<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="mipanel" defaultIdMethod="native">
  <table name="domains" phpName="Domains">
    <column name="domain_id" phpName="DomainId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="domain" phpName="Domain" type="VARCHAR" required="true"/>
    <column name="mail_uid" phpName="MailUid" type="INTEGER" required="false"/>
    <column name="mail_gid" phpName="MailGid" type="INTEGER" required="false"/>
    <column name="username" phpName="Username" type="VARCHAR" size="64" required="false"/>
    <column name="enable_ftp" phpName="EnableFtp" type="BOOLEAN" required="true" defaultValue="false"/>
    <column name="site_id" phpName="SiteId" type="INTEGER" required="false"/>
    <column name="enable_mail" phpName="EnableMail" type="BOOLEAN" required="true" defaultValue="false"/>
    <column name="password" phpName="Password" type="VARCHAR" size="64" required="false"/>
    <column name="soa_id" phpName="SoaId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="sites" name="domains_site_id_fkey">
      <reference local="site_id" foreign="site_id"/>
    </foreign-key>
    <foreign-key foreignTable="soa" name="domains_soa_id_fkey" onDelete="SET NULL" onUpdate="CASCADE">
      <reference local="soa_id" foreign="id"/>
    </foreign-key>
    <index name="domains_domain_idx">
      <index-column name="domain"/>
    </index>
    <unique name="domains_username_idx">
      <unique-column name="username"/>
    </unique>
  </table>
  <table name="global_mail_aliases" phpName="GlobalMailAliases">
    <column name="global_mail_alias_id" phpName="GlobalMailAliasId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="domain_id" phpName="DomainId" type="INTEGER" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" required="true"/>
    <foreign-key foreignTable="domains" name="global_mail_aliases_domain_id_fkey" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="domain_id" foreign="domain_id"/>
    </foreign-key>
  </table>
  <table name="global_mail_alias_to" phpName="GlobalMailAliasTo">
    <column name="global_mail_alias_to_id" phpName="GlobalMailAliasToId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="global_mail_alias_id" phpName="GlobalMailAliasId" type="INTEGER" required="true"/>
    <column name="address" phpName="Address" type="VARCHAR" required="true"/>
    <foreign-key foreignTable="global_mail_aliases" name="global_mail_alias_to_global_mail_alias_id_fkey" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="global_mail_alias_id" foreign="global_mail_alias_id"/>
    </foreign-key>
  </table>
  <table name="limits" phpName="Limits">
    <column name="limit_id" phpName="LimitId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" required="true"/>
    <column name="key" phpName="Key" type="VARCHAR" size="32" required="true"/>
    <column name="limit" phpName="Limit" type="BIGINT" required="true"/>
    <column name="usage" phpName="Usage" type="BIGINT" required="true" defaultValue="0"/>
    <foreign-key foreignTable="users" name="limits_user_id_fkey" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="user_id" foreign="user_id"/>
    </foreign-key>
    <unique name="limits_user_id_key_idx">
      <unique-column name="user_id"/>
      <unique-column name="key"/>
    </unique>
  </table>
  <table name="mailboxes" phpName="Mailboxes">
    <column name="mailbox_id" phpName="MailboxId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="domain_id" phpName="DomainId" type="INTEGER" required="true"/>
    <column name="mailbox" phpName="Mailbox" type="VARCHAR" required="true"/>
    <column name="uid" phpName="Uid" type="INTEGER" required="false"/>
    <column name="gid" phpName="Gid" type="INTEGER" required="false"/>
    <column name="password" phpName="Password" type="VARCHAR" size="64" required="false"/>
    <column name="copy_on_forward" phpName="CopyOnForward" type="BOOLEAN" required="true" defaultValue="false"/>
    <foreign-key foreignTable="domains" name="mailboxes_domain_id_fkey" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="domain_id" foreign="domain_id"/>
    </foreign-key>
    <index name="mailboxes_domain_id_idx">
      <index-column name="domain_id"/>
    </index>
    <index name="mailboxes_mailbox_idx">
      <index-column name="mailbox"/>
    </index>
  </table>
  <table name="mailbox_forwards" phpName="MailboxForwards">
    <column name="mailbox_forward_id" phpName="MailboxForwardId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="mailbox_id" phpName="MailboxId" type="INTEGER" required="true"/>
    <column name="address" phpName="Address" type="VARCHAR" required="true"/>
    <foreign-key foreignTable="mailboxes" name="mailbox_forwards_mailbox_id_fkey" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="mailbox_id" foreign="mailbox_id"/>
    </foreign-key>
  </table>
  <table name="rr" phpName="Rr">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="zone" phpName="Zone" type="INTEGER" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="64" required="true"/>
    <column name="data" phpName="Data" type="LONGVARCHAR" required="true"/>
    <column name="aux" phpName="Aux" type="INTEGER" required="true" defaultValue="0"/>
    <column name="ttl" phpName="Ttl" type="INTEGER" required="true" defaultValue="86400"/>
    <column name="type" phpName="Type" type="VARCHAR" size="5" required="true"/>
    <foreign-key foreignTable="soa" name="rr_zone_fkey" onDelete="CASCADE">
      <reference local="zone" foreign="id"/>
    </foreign-key>
    <unique name="rr_zone_key">
      <unique-column name="zone"/>
      <unique-column name="name"/>
      <unique-column name="type"/>
      <unique-column name="data"/>
    </unique>
  </table>
  <table name="settings" phpName="Settings">
    <column name="setting_id" phpName="SettingId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="key" phpName="Key" type="VARCHAR" size="32" required="true"/>
    <column name="value" phpName="Value" type="LONGVARCHAR" required="false"/>
    <unique name="settings_key_idx">
      <unique-column name="key"/>
    </unique>
  </table>
  <table name="site_aliases" phpName="SiteAliases">
    <column name="site_alias_id" phpName="SiteAliasId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" required="true"/>
    <column name="site_id" phpName="SiteId" type="INTEGER" required="true"/>
    <foreign-key foreignTable="sites" name="site_aliases_site_id_fkey" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="site_id" foreign="site_id"/>
    </foreign-key>
    <unique name="site_aliases_name_idx">
      <unique-column name="name"/>
    </unique>
  </table>
  <table name="site_rewrites" phpName="SiteRewrites">
    <column name="site_rewrite_id" phpName="SiteRewriteId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="pattern" phpName="Pattern" type="VARCHAR" required="true"/>
    <column name="replacement" phpName="Replacement" type="VARCHAR" required="true"/>
    <column name="prio" phpName="Prio" type="VARCHAR" required="true"/>
    <column name="continu" phpName="Continu" type="VARCHAR" required="true"/>
    <column name="site_id" phpName="SiteId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="sites" name="site_rewrites_site_id_fkey" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="site_id" foreign="site_id"/>
    </foreign-key>
  </table>
  <table name="sites" phpName="Sites">
    <column name="site_id" phpName="SiteId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" required="true"/>
    <column name="server_ip" phpName="ServerIp" type="VARCHAR" size="15" required="true"/>
    <column name="server_port" phpName="ServerPort" type="INTEGER" required="true" defaultValue="80"/>
    <column name="enabled" phpName="Enabled" type="VARCHAR" required="true" defaultValue="1"/>
    <unique name="sites_name_idx">
      <unique-column name="name"/>
    </unique>
  </table>
  <table name="soa" phpName="Soa">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="origin" phpName="Origin" type="VARCHAR" size="255" required="true"/>
    <column name="ns" phpName="Ns" type="VARCHAR" size="255" required="true"/>
    <column name="mbox" phpName="Mbox" type="VARCHAR" size="255" required="true"/>
    <column name="serial" phpName="Serial" type="INTEGER" required="true" defaultValue="1"/>
    <column name="refresh" phpName="Refresh" type="INTEGER" required="true" defaultValue="28800"/>
    <column name="retry" phpName="Retry" type="INTEGER" required="true" defaultValue="7200"/>
    <column name="expire" phpName="Expire" type="INTEGER" required="true" defaultValue="604800"/>
    <column name="minimum" phpName="Minimum" type="INTEGER" required="true" defaultValue="86400"/>
    <column name="ttl" phpName="Ttl" type="INTEGER" required="true" defaultValue="86400"/>
    <column name="active" phpName="Active" type="VARCHAR" size="1" required="true"/>
    <column name="xfer" phpName="Xfer" type="CHAR" size="255" required="false" defaultValue="NULL"/>
    <unique name="soa_origin_key">
      <unique-column name="origin"/>
    </unique>
  </table>
  <table name="users" phpName="Users">
    <column name="user_id" phpName="UserId" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="username" phpName="Username" type="VARCHAR" size="64" required="true"/>
    <column name="password" phpName="Password" type="CHAR" size="40" required="true"/>
    <column name="parent_id" phpName="ParentId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="users" name="users_parent_id_fkey">
      <reference local="parent_id" foreign="user_id"/>
    </foreign-key>
    <unique name="users_username_idx">
      <unique-column name="username"/>
    </unique>
  </table>
</database>
